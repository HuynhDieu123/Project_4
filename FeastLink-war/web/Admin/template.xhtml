<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets">

<h:head>
    <title>FeastLink Admin</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- Tailwind + Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;family=Poppins:wght@500;600&amp;display=swap"
          rel="stylesheet"/>

    <!-- Material Symbols -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,400..700,0..1,-50..200" />

    <!-- Optional: page-specific head (if needed) -->
    <ui:insert name="head"/>

    <style>
        :root{
            --sidebar-w: 280px;
            --header-h: 92px;

            --primary-dark:#020617;
            --primary:#0B1120;

            --gold:#d4af37;
            --gold-soft:#e6c77f;

            --bg-soft:#f6f7fb;
        }

        html, body { height:100%; }
        body{
            font-family:"Inter",sans-serif;
            background:
                radial-gradient(1200px 600px at 20% -10%, rgba(212,175,55,0.18), transparent 55%),
                radial-gradient(900px 520px at 100% 0%, rgba(15,23,42,0.10), transparent 55%),
                var(--bg-soft);
            overflow-x:hidden;
        }

        .material-symbols-outlined{
            font-family:'Material Symbols Outlined';
            font-weight:normal;
            font-style:normal;
            font-size:20px;
            display:inline-block;
            line-height:1;
            white-space:nowrap;
            -webkit-font-smoothing:antialiased;
            font-variation-settings:'FILL' 0,'wght' 520,'GRAD' 0,'opsz' 24;
        }

        /* ===================== SIDEBAR (FIX: SCROLL) ===================== */
        .sidebar{
            width: var(--sidebar-w);
            height: 100vh;
            position: fixed;
            left: 0; top: 0;

            display: flex;
            flex-direction: column;
            min-height: 0;

            padding: 22px;
            color: #fff;

            background: linear-gradient(180deg, rgba(28,33,48,0.98), rgba(11,17,32,0.98));
            border-right: 1px solid rgba(212,175,55,0.12);
            box-shadow: 10px 0 40px rgba(0,0,0,0.25);
        }

        .sidebar-brand{
            flex: 0 0 auto;
            padding-bottom: 18px;
            margin-bottom: 14px;
            border-bottom: 1px solid rgba(212,175,55,0.22);
        }

        /* ✅ Nav cuộn được -> không bị tràn xuống dưới */
        .sidebar-nav{
            flex: 1 1 auto;
            min-height: 0;
            overflow-y: auto;

            padding-right: 6px;   /* để scrollbar không đè chữ */
            margin-right: -6px;
        }

        .sidebar-nav::-webkit-scrollbar{ width: 8px; }
        .sidebar-nav::-webkit-scrollbar-thumb{
            background: rgba(212,175,55,0.28);
            border-radius: 999px;
        }
        .sidebar-nav::-webkit-scrollbar-track{
            background: rgba(255,255,255,0.06);
            border-radius: 999px;
        }

        .sidebar-item{
            display: flex;
            align-items: center;
            gap: 10px;

            padding: 10px 12px;
            border-radius: 14px;

            color: rgba(255,255,255,0.82);
            transition: all .22s ease;
        }

        .sidebar-item:hover{
            background: rgba(255,255,255,0.06);
            transform: translateX(4px);
            color: var(--gold);
        }

        .sidebar-item.active{
            background: linear-gradient(90deg, rgba(212,175,55,0.18), rgba(255,255,255,0.04));
            border: 1px solid rgba(212,175,55,0.18);
            color: var(--gold);
        }

        /* ===================== HEADER ===================== */
        .header{
            position: fixed;
            top: 0;
            left: var(--sidebar-w);
            width: calc(100% - var(--sidebar-w));

            height: var(--header-h);
            padding: 18px 34px;

            display: flex;
            justify-content: space-between;
            align-items: center;

            background: linear-gradient(90deg,
                rgba(212,175,55,0.16),
                rgba(2,6,23,0.95) 58%);

            border-bottom: 1px solid rgba(212,175,55,0.18);
            backdrop-filter: blur(10px);
            z-index: 50;
        }

        /* ===================== MAIN CONTENT ===================== */
        .content-wrapper{
            margin-left: var(--sidebar-w);
            margin-top: calc(var(--header-h) + 18px);
            padding: 20px 34px;

            min-width: 0; /* ✅ chống table làm vỡ layout */
        }
    </style>
</h:head>

<h:body>

    <!-- SIDEBAR -->
    <aside class="sidebar">

        <!-- Logo -->
        <div class="sidebar-brand flex flex-col items-center">
            <h:graphicImage value="#{resource['images/FeastLink_Logo.png']}"
                            styleClass="w-36 h-36 object-contain drop-shadow-xl" />

            <h1 class="text-[22px] font-semibold text-[var(--gold)] mt-3 tracking-wide">
                FeastLink
            </h1>
            <p class="text-gray-400 text-xs -mt-1 tracking-wide">Admin Console</p>
        </div>

        <!-- MENU (SCROLLABLE) -->
        <nav class="sidebar-nav space-y-1 text-[14px]">

            <a href="#{request.contextPath}/faces/Admin/dashboard.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('dashboard.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">dashboard</span>
                Dashboard
            </a>

            <a href="#{request.contextPath}/faces/Admin/users.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('users.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">group</span>
                Users
            </a>

            <a href="#{request.contextPath}/faces/Admin/restaurants.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('restaurants.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">storefront</span>
                Restaurants
            </a>

            <a href="#{request.contextPath}/faces/Admin/approvals.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('approvals.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">task</span>
                Approvals
            </a>

            <a href="#{request.contextPath}/faces/Admin/cuisines.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('cuisines.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">menu_book</span>
                Cuisines
            </a>

            <a href="#{request.contextPath}/faces/Admin/complaints.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('complaints.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">report</span>
                Complaints
            </a>

            <a href="#{request.contextPath}/faces/Admin/service_type.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('service_type.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">tune</span>
                Service type
            </a>

            <a href="#{request.contextPath}/faces/Admin/admin-points.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('admin-points.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">paid</span>
                Point
            </a>

            <a href="#{request.contextPath}/faces/Admin/admin-vouchers.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('admin-vouchers.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">confirmation_number</span>
                Voucher
            </a>
            
            <a href="#{request.contextPath}/faces/Admin/admin-bank-wallet.xhtml"
               class="sidebar-item #{facesContext.viewRoot.viewId.endsWith('admin-bank-wallet.xhtml') ? 'active' : ''}">
                <span class="material-symbols-outlined">confirmation_number</span>
                Wallet
            </a>


        </nav>

    </aside>

    <!-- HEADER -->
<header class="header text-white">
    <h2 class="text-xl font-semibold tracking-wide">
        <ui:insert name="title">Page Title</ui:insert>
    </h2>

    <div class="flex items-center gap-3">

        <!-- Admin info -->
        <div class="flex items-center gap-3 bg-[rgba(255,255,255,0.08)] px-4 py-2 rounded-2xl border border-[rgba(212,175,55,0.18)]">
            <img src="https://i.pravatar.cc/40"
                 class="w-10 h-10 rounded-full border border-[var(--gold)]" />

            <div class="leading-tight">
                <p class="font-medium">Admin</p>
                <p class="text-xs text-gray-300">FeastLink Admin</p>
            </div>
        </div>

        <!-- ✅ Logout (form riêng, an toàn) -->
        <h:form styleClass="m-0">
            <h:commandLink action="#{loginBean.logout}"
                           immediate="true"
                           styleClass="inline-flex items-center gap-2 px-4 py-2 rounded-2xl
                                      bg-[rgba(255,255,255,0.08)] hover:bg-[rgba(255,255,255,0.14)]
                                      border border-[rgba(212,175,55,0.22)] text-[var(--gold)]
                                      transition">
                <span class="material-symbols-outlined">logout</span>
                <span class="hidden md:inline font-medium">Logout</span>
            </h:commandLink>
        </h:form>

    </div>
</header>

    <!-- PAGE CONTENT -->
    <main class="content-wrapper">
        <ui:insert name="content"/>
    </main>

</h:body>
</html>
