<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:ui="jakarta.faces.facelets"
                xmlns:f="jakarta.faces.core"
                template="/Restaurant/layout-manager.xhtml">

    <!-- TITLE -->
    <ui:define name="title">
        FeastLink - New Menu Item
    </ui:define>

    <!-- TOP BAR LEFT -->
    <ui:define name="header">
        <div class="flex flex-col">
            <h1 class="text-2xl font-bold text-text-main-light">
                Menu &amp; Packages
            </h1>
            <p class="text-sm text-text-secondary-light">
                Add a new menu item to your restaurant.
            </p>
        </div>
    </ui:define>

    <!-- MAIN CONTENT -->
    <ui:define name="content">

        <h:form id="newItemForm" styleClass="max-w-4xl">

            <div class="bg-card-light rounded-2xl shadow-subtle p-8 space-y-6">

                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-xl font-semibold text-text-main-light">
                            New Menu Item
                        </h2>
                        <p class="text-sm text-text-secondary-light mt-1">
                            Enter details for the new dish you want to offer.
                        </p>
                    </div>

                    <!-- sau này có upload image thì bỏ nút này qua bên phải cũng được -->
                </div>

                <!-- Hàng: Name + Price -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Name -->
                    <div>
                        <label for="name" class="block text-sm font-medium text-text-main-light">
                            Name <span class="text-red-500">*</span>
                        </label>
                        <h:inputText id="name"
                                     value="#{menuItemFormBean.newItem.name}"
                                     required="true"
                                     requiredMessage="Name is required."
                                     styleClass="mt-1 block w-full rounded-lg border border-border-light bg-white px-3 py-2 text-sm text-text-main-light focus:outline-none focus:ring-2 focus:ring-champagne-gold/60" />
                        <h:message for="name" styleClass="text-xs text-error-red mt-1" />
                    </div>

                    <!-- Price per person -->
                    <div>
                        <label for="price" class="block text-sm font-medium text-text-main-light">
                            Price per person ($) <span class="text-red-500">*</span>
                        </label>
                        <h:inputText id="price"
                                     value="#{menuItemFormBean.newItem.pricePerPerson}"
                                     required="true"
                                     requiredMessage="Price is required."
                                     styleClass="mt-1 block w-full rounded-lg border border-border-light bg-white px-3 py-2 text-sm text-text-main-light focus:outline-none focus:ring-2 focus:ring-champagne-gold/60">
                            <f:convertNumber maxFractionDigits="2" />
                        </h:inputText>
                        <h:message for="price" styleClass="text-xs text-error-red mt-1" />
                    </div>
                </div>

                <!-- Description -->
                <div>
                    <label for="description" class="block text-sm font-medium text-text-main-light">
                        Description
                    </label>
                    <h:inputTextarea id="description"
                                     value="#{menuItemFormBean.newItem.description}"
                                     rows="3"
                                     styleClass="mt-1 block w-full rounded-lg border border-border-light bg-white px-3 py-2 text-sm text-text-main-light focus:outline-none focus:ring-2 focus:ring-champagne-gold/60" />
                </div>

                <!-- Hàng: Vegetarian + Status -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Vegetarian -->
                    <div class="flex items-center gap-3 mt-2">
                        <h:selectBooleanCheckbox id="veg"
                                                 value="#{menuItemFormBean.newItem.isVegetarian}"
                                                 styleClass="h-4 w-4 rounded border-border-light text-champagne-gold focus:ring-champagne-gold/60" />
                        <label for="veg" class="text-sm text-text-main-light">
                            Vegetarian option
                        </label>
                    </div>

                    <!-- Status -->
                    <div>
                        <label for="status" class="block text-sm font-medium text-text-main-light">
                            Status
                        </label>
                        <h:selectOneMenu id="status"
                                         value="#{menuItemFormBean.newItem.status}"
                                         styleClass="mt-1 block w-full rounded-lg border border-border-light bg-white px-3 py-2 text-sm text-text-main-light focus:outline-none focus:ring-2 focus:ring-champagne-gold/60">
                            <f:selectItem itemLabel="Active" itemValue="ACTIVE" />
                            <f:selectItem itemLabel="Inactive" itemValue="INACTIVE" />
                        </h:selectOneMenu>
                    </div>
                </div>

                <!-- Image URL (tạm thời, sau này đổi sang upload file) -->
                <div>
                    <label for="imageUrl" class="block text-sm font-medium text-text-main-light">
                        Image URL (temporary)
                    </label>
                    <h:inputText id="imageUrl"
                                 value="#{menuItemFormBean.newItem.imageUrl}"
                                 styleClass="mt-1 block w-full rounded-lg border border-border-light bg-white px-3 py-2 text-sm text-text-main-light focus:outline-none focus:ring-2 focus:ring-champagne-gold/60" />
                </div>

                <!-- Buttons -->
                <div class="flex justify-end gap-3 pt-4">
                    <h:commandLink action="#{menuItemFormBean.cancel}"
                                   styleClass="px-4 py-2 rounded-lg border border-border-light text-sm text-text-secondary-light hover:bg-background-soft">
                        Cancel
                    </h:commandLink>

                    <h:commandButton value="Save Item"
                                     action="#{menuItemFormBean.save}"
                                     styleClass="px-5 py-2 rounded-lg bg-cta-orange text-white text-sm font-semibold shadow-subtle hover:opacity-90" />
                </div>

            </div>

        </h:form>

    </ui:define>
</ui:composition>
